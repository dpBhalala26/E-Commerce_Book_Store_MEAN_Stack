(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Yj9t:function(e,r,t){"use strict";t.r(r),t.d(r,"AuthModule",(function(){return P}));var i=t("ofXK"),a=t("tyNb"),o=t("3Pt+"),n=t("2Vo4"),s=t("fXoL"),d=t("Vurf"),c=t("dNgK"),b=t("Wp6s"),u=t("kmnG"),l=t("qFsG"),m=t("bTqV"),p=t("NFeN");function h(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Cc(e.getEmailErrorMessage())}}function f(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Cc(e.getPwdErrorMessage())}}function g(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.fc(2,"async"),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Dc(" ",s.gc(2,1,e.err)," ")}}const w=function(){return["/auth/register"]};let S=(()=>{class e{constructor(e,r,t){this.router=e,this.authService=r,this.regSnakeBar=t,this.email=new o.d("",[o.q.required,o.q.email]),this.pwd=new o.d("",[o.q.required]),this.hide=!0}ngOnInit(){this.err=new n.a("")}login(){this.setErr(""),this.authService.auth_login(this.email.value,this.pwd.value).subscribe(e=>{this.openSnackBar("Logged in ","Successfully !"),this.router.navigate([e])},e=>this.setErr("Login failed. Please tryagain !"))}getEmailErrorMessage(){return this.email.hasError("required")?"You must enter an email address":this.email.hasError("email")?"Not a valid email address":""}getPwdErrorMessage(){if(this.pwd.hasError("required"))return"You must enter a password"}openSnackBar(e,r){this.regSnakeBar.open(e,r,{duration:2e3})}setErr(e){return this.err.next(e)}}return e.\u0275fac=function(r){return new(r||e)(s.Mb(a.a),s.Mb(d.a),s.Mb(c.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["dp-login"]],decls:36,vars:11,consts:[[1,"login-card"],["action","","method","post"],[1,"full-width"],["appearance","outline",1,"full-width"],["matInput","","name","email","id","email","placeholder","user123@dp.in","required","",3,"formControl"],[4,"ngIf"],["matInput","","name","pwd","id","pwd","required","",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary","tabindex","0",1,"full-width",3,"click"],[3,"routerLink"]],template:function(e,r){1&e&&(s.Sb(0,"mat-card",0),s.Sb(1,"mat-card-header"),s.Sb(2,"mat-card-title"),s.Bc(3," Login "),s.Rb(),s.Rb(),s.Sb(4,"mat-card-content"),s.Sb(5,"form",1),s.Sb(6,"table",2),s.Sb(7,"tr"),s.Sb(8,"td"),s.Sb(9,"mat-form-field",3),s.Sb(10,"mat-label"),s.Bc(11,"Enter your email"),s.Rb(),s.Nb(12,"input",4),s.Ac(13,h,2,1,"mat-error",5),s.Rb(),s.Rb(),s.Rb(),s.Sb(14,"tr"),s.Sb(15,"td"),s.Sb(16,"mat-form-field",3),s.Sb(17,"mat-label"),s.Bc(18,"Enter your password"),s.Rb(),s.Nb(19,"input",6),s.Sb(20,"button",7),s.ac("click",(function(){return r.hide=!r.hide})),s.Sb(21,"mat-icon"),s.Bc(22),s.Rb(),s.Rb(),s.Ac(23,f,2,1,"mat-error",5),s.Rb(),s.Rb(),s.Rb(),s.Sb(24,"tr"),s.Sb(25,"td"),s.Ac(26,g,3,3,"mat-error",5),s.Sb(27,"button",8),s.ac("click",(function(){return r.login()})),s.Bc(28,"Log in"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Nb(29,"br"),s.Sb(30,"mat-card-footer"),s.Sb(31,"span"),s.Bc(32,"Do not have an account? Click "),s.Sb(33,"a",9),s.Bc(34,"here to register"),s.Rb(),s.Bc(35,". "),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(12),s.kc("formControl",r.email),s.Bb(1),s.kc("ngIf",r.email.invalid),s.Bb(6),s.kc("type",r.hide?"password":"text")("formControl",r.pwd),s.Bb(1),s.Cb("aria-label","Hide password")("aria-pressed",r.hide),s.Bb(2),s.Cc(r.hide?"visibility_off":"visibility"),s.Bb(1),s.kc("ngIf",r.pwd.invalid),s.Bb(3),s.kc("ngIf",r.err),s.Bb(7),s.kc("routerLink",s.mc(10,w)))},directives:[b.a,b.e,b.h,b.c,o.r,o.m,o.n,u.c,u.g,l.b,o.c,o.p,o.l,o.e,i.l,m.b,u.h,p.a,b.d,a.d,u.b],pipes:[i.b],styles:[".login-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px;margin:10% auto}.full-width[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e})();function R(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Cc(e.getEmailErrorMessage())}}function B(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Cc(e.getPwdErrorMessage())}}function v(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Cc(e.getConfpwdErrorMessage())}}function k(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.fc(2,"async"),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Dc(" ",s.gc(2,1,e.err)," ")}}const E=function(){return["/auth/login"]};let C=(()=>{class e{constructor(e,r,t){this.router=e,this.authService=r,this.regSnakeBar=t,this.userGroup=new o.f({uname:new o.d("",[o.q.required]),email:new o.d("",[o.q.required,o.q.email]),pwd:new o.d("",[o.q.required,o.q.minLength(3),o.q.maxLength(10)]),confpwd:new o.d("",[o.q.required,this.confpwdMatcher]),address:new o.d("",[o.q.required])}),this.hide=!0,this.hide_conf=!0}ngOnInit(){this.err=new n.a("")}register(){if(this.userGroup.invalid)return;this.setErr("");const e=this.userGroup.getRawValue();this.authService.auth_register(e).subscribe(e=>{this.openSnackBar("Account registered ","Successfully !"),this.router.navigate([e])},e=>this.setErr("Register failed. Please try again."))}getEmailErrorMessage(){return this.userGroup.get("email").hasError("required")?"You must enter an email address":this.userGroup.get("email").hasError("email")?"Not a valid email address":""}getPwdErrorMessage(){return this.userGroup.get("pwd").hasError("required")?"You must enter a password":this.userGroup.get("pwd").hasError("minlength")?"Minimum length is 3 letters":this.userGroup.get("pwd").hasError("maxlength")?"Maximum length is 10 letters":""}getConfpwdErrorMessage(){return this.userGroup.get("confpwd").hasError("required")?"You must enter a password again":"Password did not matched with above"}confpwdMatcher(e){const r=e.root.get("pwd");return r&&((null==e?void 0:e.value)!=(null==r?void 0:r.value)?{confpwdMatcher:!0}:null)}openSnackBar(e,r){this.regSnakeBar.open(e,r,{duration:2e3})}setErr(e){return this.err.next(e)}}return e.\u0275fac=function(r){return new(r||e)(s.Mb(a.a),s.Mb(d.a),s.Mb(c.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["dp-register"]],decls:61,vars:20,consts:[[1,"register-card"],["action","","method","post",3,"formGroup"],[1,"full-width"],["appearance","outline",1,"full-width"],["matInput","","name","uname","id","uname","placeholder","user123","required","",3,"formControl"],["matInput","","name","email","id","email","placeholder","user123@dp.in","required","",3,"formControl"],[4,"ngIf"],["matInput","","name","pwd","id","pwd","required","",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","name","confpwd","id","confpwd","required","",3,"type","formControl"],["matInput","","name","address","id","address","placeholder","Shaitan gali, Katra Mahel, Andher Nagar, Shamsaan Ghat ke Samne","required","",3,"formControl"],["mat-raised-button","","color","primary","tabindex","0",1,"full-width",3,"click"],[3,"routerLink"]],template:function(e,r){1&e&&(s.Sb(0,"mat-card",0),s.Sb(1,"mat-card-header"),s.Sb(2,"mat-card-title"),s.Bc(3," Register "),s.Rb(),s.Rb(),s.Sb(4,"mat-card-content"),s.Sb(5,"form",1),s.Sb(6,"table",2),s.Sb(7,"tr"),s.Sb(8,"td"),s.Sb(9,"mat-form-field",3),s.Sb(10,"mat-label"),s.Bc(11,"Enter username"),s.Rb(),s.Nb(12,"input",4),s.Rb(),s.Rb(),s.Rb(),s.Sb(13,"tr"),s.Sb(14,"td"),s.Sb(15,"mat-form-field",3),s.Sb(16,"mat-label"),s.Bc(17,"Enter your email"),s.Rb(),s.Nb(18,"input",5),s.Ac(19,R,2,1,"mat-error",6),s.Rb(),s.Rb(),s.Rb(),s.Sb(20,"tr"),s.Sb(21,"td"),s.Sb(22,"mat-form-field",3),s.Sb(23,"mat-label"),s.Bc(24,"Enter your password"),s.Rb(),s.Nb(25,"input",7),s.Sb(26,"button",8),s.ac("click",(function(){return r.hide=!r.hide})),s.Sb(27,"mat-icon"),s.Bc(28),s.Rb(),s.Rb(),s.Ac(29,B,2,1,"mat-error",6),s.Sb(30,"mat-hint"),s.Bc(31,"Prefer combination of alphanumerics"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(32,"tr"),s.Sb(33,"td"),s.Sb(34,"mat-form-field",3),s.Sb(35,"mat-label"),s.Bc(36,"Enter password again"),s.Rb(),s.Nb(37,"input",9),s.Sb(38,"button",8),s.ac("click",(function(){return r.hide_conf=!r.hide_conf})),s.Sb(39,"mat-icon"),s.Bc(40),s.Rb(),s.Rb(),s.Ac(41,v,2,1,"mat-error",6),s.Rb(),s.Rb(),s.Rb(),s.Sb(42,"tr"),s.Sb(43,"td"),s.Sb(44,"mat-form-field",3),s.Sb(45,"mat-label"),s.Bc(46,"Enter Address"),s.Rb(),s.Nb(47,"input",10),s.Rb(),s.Rb(),s.Rb(),s.Sb(48,"tr"),s.Sb(49,"td"),s.Ac(50,k,3,3,"mat-error",6),s.Sb(51,"button",11),s.ac("click",(function(){return r.register()})),s.Bc(52,"Register"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Nb(53,"br"),s.Nb(54,"br"),s.Sb(55,"mat-card-footer"),s.Nb(56,"p"),s.Bc(57,"Already have an account? Click "),s.Sb(58,"a",12),s.Bc(59,"here to login"),s.Rb(),s.Bc(60,". "),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(5),s.kc("formGroup",r.userGroup),s.Bb(7),s.kc("formControl",r.userGroup.get("uname")),s.Bb(6),s.kc("formControl",r.userGroup.get("email")),s.Bb(1),s.kc("ngIf",r.userGroup.get("email").invalid),s.Bb(6),s.kc("type",r.hide?"password":"text")("formControl",r.userGroup.get("pwd")),s.Bb(1),s.Cb("aria-label","Hide password")("aria-pressed",r.hide),s.Bb(2),s.Cc(r.hide?"visibility_off":"visibility"),s.Bb(1),s.kc("ngIf",r.userGroup.get("pwd").invalid),s.Bb(8),s.kc("type",r.hide_conf?"password":"text")("formControl",r.userGroup.get("confpwd")),s.Bb(1),s.Cb("aria-label","Hide password")("aria-pressed",r.hide_conf),s.Bb(2),s.Cc(r.hide_conf?"visibility_off":"visibility"),s.Bb(1),s.kc("ngIf",r.userGroup.get("confpwd").invalid),s.Bb(6),s.kc("formControl",r.userGroup.get("address")),s.Bb(3),s.kc("ngIf",r.err),s.Bb(8),s.kc("routerLink",s.mc(19,E)))},directives:[b.a,b.e,b.h,b.c,o.r,o.m,o.g,u.c,u.g,l.b,o.c,o.p,o.l,o.e,i.l,m.b,u.h,p.a,u.f,b.d,a.d,u.b],pipes:[i.b],styles:[".register-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px;margin:5% auto}.full-width[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e})();var y=t("ZAiJ");function q(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Cc(e.getPwdErrorMessage())}}function G(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Cc(e.getConfpwdErrorMessage())}}function _(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.Bc(1),s.fc(2,"async"),s.Rb()),2&e){const e=s.ec();s.Bb(1),s.Dc(" ",s.gc(2,1,e.err)," ")}}const M=[{path:"",component:S},{path:"login",component:S},{path:"register",component:C},{path:"userprofile",component:(()=>{class e{constructor(e,r,t,i){this.router=e,this.authService=r,this.regSnakeBar=t,this.logService=i,this.hide=!0,this.hide_conf=!0,this.hide_old=!0,this.gotUser=this.authService.currentUser,this.userGroup=new o.f({uname:new o.d(this.gotUser.uname,[o.q.required]),oldpwd:new o.d(this.gotUser.pwd,[o.q.required]),pwd:new o.d(this.gotUser.pwd,[o.q.required,o.q.minLength(3),o.q.maxLength(10)]),confpwd:new o.d(this.gotUser.pwd,[o.q.required,this.confpwdMatcher]),address:new o.d(this.gotUser.address,[o.q.required])}),this.email=this.gotUser.email}ngOnInit(){this.err=new n.a("")}update(){if(this.userGroup.invalid)return;if(!this.old_pwd_validate())return void this.setErr("Old Password did not match");const e=this.userGroup.getRawValue();e.email=this.email,delete e.oldpwd,this.authService.auth_update(e).subscribe(e=>{this.openSnackBar("Account updated ","Successfully !"),this.router.navigate([e])},e=>this.setErr("Update failed. Please try again."))||this.setErr("Update Failed")}old_pwd_validate(){if(this.userGroup.invalid)return;this.setErr(""),this.userGroup.getRawValue();const e=this.authService.auth_old_pwd_validate(this.email.toString(),this.userGroup.get("oldpwd").value).subscribe(e=>console.log("Old password matched"),e=>null);return this.logService.log(e,"    ",typeof e," In old_pwd_vali"),null!==e}delete(){this.old_pwd_validate()?(this.authService.auth_delete(this.email),this.authService.auth_logout(),this.router.navigate(["/"])):this.setErr("Old Password did not match")}getEmailErrorMessage(){return this.userGroup.get("email").hasError("required")?"You must enter an email address":this.userGroup.get("email").hasError("email")?"Not a valid email address":""}getPwdErrorMessage(){return this.userGroup.get("pwd").hasError("required")?"You must enter a password":this.userGroup.get("pwd").hasError("minlength")?"Minimum length is 3 letters":this.userGroup.get("pwd").hasError("maxlength")?"Maximum length is 10 letters":""}getConfpwdErrorMessage(){return this.userGroup.get("confpwd").hasError("required")?"You must enter a password again":"Password did not matched with above"}confpwdMatcher(e){const r=e.root.get("pwd");return r&&((null==e?void 0:e.value)!=(null==r?void 0:r.value)?{confpwdMatcher:!0}:null)}openSnackBar(e,r){this.regSnakeBar.open(e,r,{duration:2e3})}setErr(e){return this.err.next(e)}}return e.\u0275fac=function(r){return new(r||e)(s.Mb(a.a),s.Mb(d.a),s.Mb(c.a),s.Mb(y.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["dp-user-profile"]],decls:66,vars:22,consts:[[1,"profile-card"],["action","","method","post",3,"formGroup"],[1,"full-width"],["appearance","outline",1,"full-width"],["matInput","","name","email","id","email","disabled","",3,"value"],["matInput","","name","uname","id","uname","placeholder","user123","required","",3,"formControl"],["matInput","","name","oldpwd","id","oldpwd","required","",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","name","pwd","id","pwd","required","",3,"type","formControl"],[4,"ngIf"],["matInput","","name","confpwd","id","confpwd","required","",3,"type","formControl"],["matInput","","name","address","id","address","placeholder","Shaitan gali, Katra Mahel, Andher Nagar, Shamsaan Ghat ke Samne","required","",3,"formControl"],["mat-raised-button","","color","primary","tabindex","0",1,"full-width",3,"click"],["mat-raised-button","","color","warn","tabindex","0",1,"full-width",3,"click"]],template:function(e,r){1&e&&(s.Sb(0,"mat-card",0),s.Sb(1,"mat-card-header"),s.Sb(2,"mat-card-title"),s.Bc(3," Update "),s.Rb(),s.Rb(),s.Sb(4,"mat-card-content"),s.Sb(5,"form",1),s.Sb(6,"table",2),s.Sb(7,"tr"),s.Sb(8,"td"),s.Sb(9,"mat-form-field",3),s.Sb(10,"mat-label"),s.Bc(11,"Your email"),s.Rb(),s.Nb(12,"input",4),s.Rb(),s.Rb(),s.Rb(),s.Sb(13,"tr"),s.Sb(14,"td"),s.Sb(15,"mat-form-field",3),s.Sb(16,"mat-label"),s.Bc(17,"Enter username"),s.Rb(),s.Nb(18,"input",5),s.Rb(),s.Rb(),s.Rb(),s.Sb(19,"tr"),s.Sb(20,"td"),s.Sb(21,"mat-form-field",3),s.Sb(22,"mat-label"),s.Bc(23,"Enter your old password"),s.Rb(),s.Nb(24,"input",6),s.Sb(25,"button",7),s.ac("click",(function(){return r.hide_old=!r.hide_old})),s.Sb(26,"mat-icon"),s.Bc(27),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(28,"tr"),s.Sb(29,"td"),s.Sb(30,"mat-form-field",3),s.Sb(31,"mat-label"),s.Bc(32,"Enter your new password"),s.Rb(),s.Nb(33,"input",8),s.Sb(34,"button",7),s.ac("click",(function(){return r.hide=!r.hide})),s.Sb(35,"mat-icon"),s.Bc(36),s.Rb(),s.Rb(),s.Ac(37,q,2,1,"mat-error",9),s.Sb(38,"mat-hint"),s.Bc(39,"Prefer combination of alphanumerics"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(40,"tr"),s.Sb(41,"td"),s.Sb(42,"mat-form-field",3),s.Sb(43,"mat-label"),s.Bc(44,"Enter new password again"),s.Rb(),s.Nb(45,"input",10),s.Sb(46,"button",7),s.ac("click",(function(){return r.hide_conf=!r.hide_conf})),s.Sb(47,"mat-icon"),s.Bc(48),s.Rb(),s.Rb(),s.Ac(49,G,2,1,"mat-error",9),s.Rb(),s.Rb(),s.Rb(),s.Sb(50,"tr"),s.Sb(51,"td"),s.Sb(52,"mat-form-field",3),s.Sb(53,"mat-label"),s.Bc(54,"Enter Address"),s.Rb(),s.Nb(55,"input",11),s.Rb(),s.Rb(),s.Rb(),s.Sb(56,"tr"),s.Sb(57,"td"),s.Ac(58,_,3,3,"mat-error",9),s.Sb(59,"button",12),s.ac("click",(function(){return r.update()})),s.Bc(60,"Update"),s.Rb(),s.Rb(),s.Rb(),s.Sb(61,"tr"),s.Sb(62,"td"),s.Sb(63,"button",13),s.ac("click",(function(){return r.delete()})),s.Bc(64,"Delete"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Nb(65,"br"),s.Rb(),s.Rb()),2&e&&(s.Bb(5),s.kc("formGroup",r.userGroup),s.Bb(7),s.kc("value",r.email),s.Bb(6),s.kc("formControl",r.userGroup.get("uname")),s.Bb(6),s.kc("type",r.hide_old?"password":"text")("formControl",r.userGroup.get("oldpwd")),s.Bb(1),s.Cb("aria-label","Hide password")("aria-pressed",r.hide_old),s.Bb(2),s.Cc(r.hide_old?"visibility_off":"visibility"),s.Bb(6),s.kc("type",r.hide?"password":"text")("formControl",r.userGroup.get("pwd")),s.Bb(1),s.Cb("aria-label","Hide password")("aria-pressed",r.hide),s.Bb(2),s.Cc(r.hide?"visibility_off":"visibility"),s.Bb(1),s.kc("ngIf",r.userGroup.get("pwd").invalid),s.Bb(8),s.kc("type",r.hide_conf?"password":"text")("formControl",r.userGroup.get("confpwd")),s.Bb(1),s.Cb("aria-label","Hide password")("aria-pressed",r.hide_conf),s.Bb(2),s.Cc(r.hide_conf?"visibility_off":"visibility"),s.Bb(1),s.kc("ngIf",r.userGroup.get("confpwd").invalid),s.Bb(6),s.kc("formControl",r.userGroup.get("address")),s.Bb(3),s.kc("ngIf",r.err))},directives:[b.a,b.e,b.h,b.c,o.r,o.m,o.g,u.c,u.g,l.b,o.c,o.p,o.l,o.e,m.b,u.h,p.a,i.l,u.f,u.b],pipes:[i.b],styles:[".profile-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px;margin:5% auto}.full-width[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e})()}];let x=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(r){return new(r||e)},imports:[[a.e.forChild(M)],a.e]}),e})();var I=t("tk/3"),N=t("0+T2");let P=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(r){return new(r||e)},imports:[[i.c,x,I.c,N.a,o.h,o.o]]}),e})()}}]);